@mixin notice(
	$bg: var(--color--grey-5),
	$color: var(--color--grey-1),
	$icon: ""
) {
	--notice--background-color: #{$bg};
	--notice--color: #{$color};

	display: block;
	border-radius: var(--border-radius);
	padding: var(--spacing--15) var(--spacing--20);
	@include font-size(small);
	text-align: left;
	list-style: none;
	width: 100%;
	background-color: var(--notice--background-color);
	color: var(--notice--color);

	@if $icon != "" {
		@include notice-with-icon($icon);
	}

	a:not(.button) {
		@include link;
	}

	.button {
		@include link;

		&,
		&:hover {
			background: none;
			box-shadow: none;
			color: inherit;
			padding: 0;
			border-radius: 0;
			font-size: inherit;
		}
	}
}

@mixin notice-with-icon($url) {
	--notice-icon-size: 24px;

	background-image: url($url);
	background-repeat: no-repeat;
	background-position: var(--spacing--20);
	background-size: var(--notice-icon-size);
	padding-left: calc(
		var(--spacing--20) + var(--notice-icon-size) + var(--spacing--10)
	);
}

$notice-icon-size: 24px;

.notice {
	display: block;
	border-radius: var(--border-radius);
	padding: var(--spacing--15) var(--spacing--20);
	@include font-size(small);
	text-align: left;
	list-style: none;
	width: 100%;
	background-color: var(--background-color, var(--color--grey-5));

	a:not(.button) {
		@include link;
	}

	.button {
		@include link;

		&,
		&:hover {
			background: none;
			box-shadow: none;
			color: inherit;
			padding: 0;
			border-radius: 0;
			font-size: inherit;
		}
	}

	&--has-icon {
		background-repeat: no-repeat;
		background-position: var(--spacing--20);
		background-size: $notice-icon-size;
		padding-left: calc(
			var(--spacing--20) + $notice-icon-size + var(--spacing--10)
		);
	}
}

// @todo Chocante - Bricks, remove cart class.
.woocommerce-cart,
.single-product {
	.woocommerce-notices-wrapper {
		display: flex;
		flex-direction: column;
		gap: var(--spacing--20);
		width: 100%;

		&:not(:empty) {
			margin: 0;
		}

		&:empty {
			display: none;
		}

		.woocommerce {
			&-info,
			&-success {
				@include notice;
			}

			&-message {
				@include notice($icon: "../icons/icon-info.svg");

				svg {
					@include color(red-1);
				}
			}

			&-error {
				@include notice(
					var(--color--red-3),
					var(--color--red-2),
					$icon: "../icons/icon-error.svg"
				);
			}
		}
	}
}
