$slider-navigation-size: 50px;

.product-section {
	background-color: white;
	padding-top: var(--spacing--30);
	padding-bottom: var(--spacing--30);
	overflow: hidden;
	min-height: 500px;

	@include min-width($breakpoint--desktop) {
		padding: var(--spacing--40) 0;
	}

	&__header {
		display: flex;
		gap: var(--spacing--20);
		align-items: end;
		padding-bottom: var(--spacing--20);
		padding-top: var(--spacing--15);
		@include container();

		a {
			@include button(secondary);
			flex-shrink: 0;
			@include hide(mobile);
		}
	}

	&__heading {
		@include font-style(page-title);

		& {
			padding: 0;
			flex-grow: 1;
		}

		span {
			@include font-style(section-label);
			@include color(grey-2);
			display: block;
			padding-bottom: 0.75em;
		}
	}

	&__empty {
		@include empty-screen;

		& {
			min-height: 300px;
			position: relative;
		}
	}

	&__spinner {
		@include flex(center);
		min-height: 300px;
	}

	.splide {
		padding-left: var(--spacing--20);
		padding-right: var(--spacing--20);

		&.is-initialized {
			.product {
				opacity: 0.3;

				&.is-visible {
					opacity: 1;
				}
			}
		}

		&__track {
			padding-left: 0;
			padding-right: 0;
			padding-top: var(--spacing--10);
			overflow: visible;
			@include container();

			@include min-width($breakpoint--desktop) {
				padding-top: var(--spacing--20);
				padding-bottom: var(--spacing--20);
			}
		}

		&__arrow {
			width: $slider-navigation-size;
			height: $slider-navigation-size;
			border-radius: 50%;
			@include bg(green-1);
			color: white;
			@include flex(center);
			position: absolute;
			top: 100%;
			z-index: 10;
			@include transition(colors);
			margin-top: var(--spacing--15);

			@include min-width($breakpoint--desktop + $slider-navigation-size) {
				top: 50%;
				margin-top: 0;
			}

			svg {
				@include transition;
			}

			&:hover {
				box-shadow: var(--shadow--1);

				&:not(:active) {
					@include bg(green-2);

					svg {
						transform: scale(1.25);
					}
				}
			}

			&:active {
				transition: none;
			}

			&:disabled {
				display: none;
			}

			&--prev {
				left: 0;

				@include min-width($breakpoint--desktop + $slider-navigation-size) {
					transform: translate3d(-100%, -50%, 0);
					left: -15px;
				}
			}

			&--next {
				right: 0;

				@include min-width($breakpoint--desktop + $slider-navigation-size) {
					transform: translate3d(100%, -50%, 0);
					right: -15px;
				}
			}
		}

		&__pagination {
			display: flex;
			justify-content: center;
			padding: var(--spacing--30) 70px 0;
			gap: var(--spacing--10);

			&__page {
				width: 5px;
				height: 5px;
				border-radius: 2px;
				@include transition("background-color, width");
				@include bg(green-1);
				cursor: default;

				&.is-active {
					@include bg(grey-3);
					width: 25px;
				}
			}
		}
	}

	.product {
		@include transition(colors);
		transition-timing-function: ease-in;

		@include max-width($breakpoint--desktop-md) {
			max-width: 270px;
		}

		@include min-width($breakpoint--desktop-md) {
			min-width: 270px;
		}

		.woocommerce {
			&-loop-product {
				&__title {
					@include font-size(medium-sm);
					font-weight: var(--font-weight--bold);
					@include color(brown-4);
					margin: 0 0 0.2em;

					// @todo: Chocante - Bricks.
					font-family: var(--font-family--body);
					letter-spacing: normal;
					// END TODO.
				}

				&__link {
					border-radius: var(--border-radius);
					@include transition(colors);
					overflow: hidden;
					background-color: white;
					@include border(grey-4);
					position: relative;
					display: block;

					&:hover {
						box-shadow: var(--shadow--2);

						img {
							transform: translateY(-2%);
						}

						.woocommerce-loop-product__info-wrapper {
							transform: translateY(0);
						}
					}

					img {
						@include transition;
						transform: translateY(0);
					}

					.onsale {
						position: absolute;
						left: var(--spacing--20);
						top: var(--spacing--15);
						z-index: 10;
					}
				}

				&__info {
					position: absolute;
					left: 0;
					right: 0;
					top: 5px;
					z-index: -1;
					transform: translateY(-100%);
					padding: var(--spacing--10) var(--spacing--20) var(--spacing--15);
					background: white;

					&-wrapper {
						padding: var(--spacing--5) var(--spacing--20) var(--spacing--20);
						display: flex;
						flex-direction: column;
						gap: var(--spacing--10);
						align-items: start;
						position: relative;
						transform: translateY(100%);
						@include transition;
						background-color: white;
						margin-top: 2em;
					}
				}

				&__type {
					display: block;
					font-size: var(--font-size--normal-sm);
					line-height: 1.15;
					padding-top: 0.2em;
				}
			}
		}

		&.outofstock .button {
			@include button(secondary);
		}
	}
}
