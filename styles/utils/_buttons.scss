// Button.
@mixin button($style: primary, $scheme: light, $size: sm) {
	@include font-size(normal-sm);
	--line-height: 1.15;
	font-weight: var(--font-weight--bold);
	display: inline-block;
	text-align: center;
	text-decoration: none;
	border-radius: var(--border-radius);
	background-color: transparent;
	border-style: solid;
	border-color: transparent;
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;

	@if $size == sm {
		@include button-sm;
	} @else {
		@include button-lg;
	}

	&:not([disabled]):not(.disabled) {
		@if $style == primary {
			@include button-primary($scheme);
		}

		@if $style == secondary {
			@include button-secondary($scheme);
		}
	}

	&[disabled],
	&.disabled {
		cursor: not-allowed;

		@if $style == primary {
			@if $scheme == light {
				@include bg(grey-3);
				color: white;
			}

			@if $scheme == dark {
				background-color: white;
				@include color(grey-3);
			}
		}

		@if $style == secondary {
			border-color: var(--wp--custom--color--grey-3);
			color: var(--wp--custom---color--grey-3);
		}
	}
}

@mixin button-sm {
	padding: 0.65em 1.35em;
	border-width: 3px;
}

@mixin button-lg {
	padding: 0.85em 2em 0.95em;
	border-width: 3px;
}

@mixin button-primary($theme: light) {
	@if $theme == light {
		@include button-color(
			$bg: var(--wp--preset--color--accent),
			$bg-hover: var(--wp--custom--color--accent-2),
			$color: white,
			$hover-color: white
		);
	}

	@if $theme == dark {
		@include button-color(
			$bg: white,
			$bg-hover: var(--wp--custom--color--base-7),
			$color: var(--wp--preset--color--base),
			$hover-color: var(--wp--preset--color--base)
		);
	}
}

@mixin button-secondary($theme: light) {
	@if $theme == light {
		@include button-color(
			$bg: transparent,
			$bg-hover: var(--wp--custom--color--accent-2),
			$color: var(--wp--preset--color--accent),
			$hover-color: white,
			$border: true
		);
	}

	@if $theme == dark {
		@include button-color(
			$bg: transparent,
			$bg-hover: white,
			$color: white,
			$hover-color: var(--wp--preset--color--base),
			$border: true
		);
	}
}

@mixin button-color(
	$bg,
	$bg-hover: transparent,
	$color: currentColor,
	$hover-color: currentColor,
	$border: false
) {
	background-image: linear-gradient(to right, $bg-hover 50%, $bg 50%);
	color: $color;
	background-size: calc(200% + 12px) calc(100% + 6px);
	--wp--custom--transition--property: color, background-position, box-shadow,
		opacity;
	@include transition;
	background-position: calc(100% + 3px);
	box-shadow: none;

	@if $border {
		border-color: $bg-hover;
	}

	&:hover {
		background-position: -3px;
		color: $hover-color;
		box-shadow: var(--shadow--1);
	}

	&:active {
		opacity: 0.9;
	}
}

// Icon button.
@mixin icon-button {
	--icon-button-size: 40px;

	@include flex(center);
	min-width: var(--icon-button-size);
	height: var(--icon-button-size);
	color: currentColor;
	background-color: transparent;

	svg {
		opacity: 1;
		@include transition;
	}

	&:hover svg {
		opacity: 0.5;
	}

	&:active svg,
	&.active svg {
		opacity: 1;
		transition: none;
	}
}

// Navigation button.
@mixin nav-button($disabled: "") {
	--nav-button--size: 50px;

	width: var(--nav-button--size);
	height: var(--nav-button--size);
	border-radius: 50%;
	color: white;
	@include flex(center);
	@include font-size(small-sm);
	font-weight: var(--font-weight--semibold);
	text-decoration: none;

	@if $disabled == "" {
		@include bg(accent);
	} @else {
		@include bg(base-6);
	}

	svg {
		@include transition;
	}

	@if $disabled == "" {
		&:hover {
			box-shadow: var(--shadow--1);

			&:not(:active) {
				@include bg(accent-2);

				svg {
					transform: scale(1.25);
				}
			}
		}

		&:active {
			transition: none;
			@include bg(accent);
		}
	}
}
